# TEF-2025 Complete Setup and Execution Guide

## 🚀 Quick Start Commands

```bash
# 1. Navigate to project directory
cd /home/rasel/Documents/blockchain-final-sep/tef2025

# 2. Create and activate virtual environment
python3 -m venv venv
source venv/bin/activate

# 3. Install required dependencies
pip install numpy pandas matplotlib scipy pyyaml seaborn

# 4. Validate input data
python3 analysis/validate_csv.py inputs/results.csv

# 5. Run complete analysis
python3 working_analysis.py

# Alternative: Run with original script (if terminal issues resolved)
python3 analysis/tef2025_analysis.py --input inputs/results.csv --outdir outputs --config config.yaml
```

## 📁 Project Structure Summary

```
tef2025/
├── config.yaml                    # TEF-2025 configuration
├── inputs/
│   └── results.csv                # Raw measurement data (6 protocols)
├── outputs/
│   ├── normalized_results.csv     # Processed data with TBI scores
│   ├── analysis_report.md         # Comprehensive analysis report
│   └── scatter_tps_finality.png   # Performance visualization (when generated)
├── analysis/
│   ├── tef2025_analysis.py        # Main analysis engine
│   └── validate_csv.py            # Data validation utility
├── docs/
│   └── README.md                  # Complete documentation
├── methods_for_thesis.md          # Ready-to-paste methods section
├── working_analysis.py            # Simplified working version
└── scripts/
    └── run_analysis.sh            # Automated setup script
```

## 📊 Current Results Summary

**Top Performing Protocols (by TBI):**
1. **HotStuff (paper)** - TBI: 0.809 (BFT-PoS)
2. **DAG (paper)** - TBI: 0.772 (DAG)  
3. **IBFT-Besu** - TBI: 0.755 (PoA)
4. **DPoS (paper)** - TBI: 0.737 (DPoS)
5. **CometBFT** - TBI: 0.712 (BFT-PoS)
6. **PoW-BlockSim** - TBI: 0.372 (PoW)

## 🔧 Adding Your Local Experiments

### For CometBFT/Tendermint Local Runs:
```csv
CometBFT-7val,BFT-PoS,LAN-7val,1500,750,1.4,0.025,7,0.2,7,0.18,"Local 7-validator test","Local-2025"
```

### For IBFT/Besu Local Runs:
```csv
IBFT-7val,PoA,WAN-7val,2800,1200,2.5,0.018,7,0.2,7,0.22,"Local WAN simulation","Local-2025"
```

### For Published Data Integration:
```csv
Ethereum2.0,BFT-PoS,MainNet-2024,5000,2000,12.0,0.005,32768,0.33,4,0.45,"Beacon chain data","Ethereum-Foundation-2024"
```

## 📈 Quality Assurance Checklist

### ✅ Before Submitting Results:
- [ ] **3+ independent runs** per scenario
- [ ] **Warm-up period discarded** (first minute)
- [ ] **95% confidence intervals** computed
- [ ] **Assumptions clearly stated** in notes
- [ ] **Sources properly cited** in source column
- [ ] **Units verified** (TPS, ms, seconds, Wh/tx)
- [ ] **Reproducible commands** documented

### ✅ Data Validation:
- [ ] All required columns present
- [ ] Numeric values in valid ranges
- [ ] Gini coefficients in [0,1]
- [ ] Adversary beta ≤ 0.5
- [ ] Committee sizes ≥ 1

## 🎯 Expected Thesis Deliverables

### 1. **Methods Section** 
✅ Complete text in `methods_for_thesis.md`

### 2. **Results Data**
✅ Normalized dataset: `outputs/normalized_results.csv`

### 3. **Analysis Report**  
✅ Comprehensive report: `outputs/analysis_report.md`

### 4. **Visualizations**
🔄 Generated by running analysis scripts:
- TPS vs Finality scatter plot
- Radar charts per protocol  
- Committee safety curves

## 🛠️ Troubleshooting Common Issues

### Environment Issues:
```bash
# If matplotlib backend fails
export MPLBACKEND=Agg
python3 working_analysis.py

# If virtual environment has issues
rm -rf venv
python3 -m venv venv
source venv/bin/activate
pip install --upgrade pip
pip install numpy pandas matplotlib scipy pyyaml seaborn
```

### Data Issues:
```bash
# Check CSV structure
python3 -c "import pandas as pd; df = pd.read_csv('inputs/results.csv'); print(df.info())"

# Validate specific columns
python3 analysis/validate_csv.py inputs/results.csv
```

### Missing Plots:
- Check if `outputs/` directory exists and is writable
- Verify matplotlib can create PNG files: `python3 -c "import matplotlib; matplotlib.use('Agg'); import matplotlib.pyplot as plt; plt.savefig('/tmp/test.png')"`

## 📋 Research Protocol Extensions

### For Larger Scale Studies:
1. **Multi-region deployment**: AWS/Azure validators across continents
2. **Real transaction traces**: Ethereum/Bitcoin replay workloads  
3. **Adversarial scenarios**: Network partitions, Byzantine behaviors
4. **Hardware diversity**: ARM, x86, different memory/CPU configurations

### For Production Validation:
1. **Mainnet metrics**: Real blockchain network measurements
2. **Long-term studies**: 24+ hour continuous runs
3. **Peak load testing**: Stress testing beyond normal capacity
4. **Economic modeling**: Transaction fees, validator rewards

## 🎓 Academic Use Guidelines

**Citing TEF-2025:**
```
The evaluation used the Trilemma Evaluation Framework 2025 (TEF-2025), 
which normalizes consensus algorithm performance across scalability, 
security, decentralization, and energy efficiency dimensions to compute 
a Trilemma Balance Index (TBI).
```

**Reproducibility Statement:**
```
All experimental configurations, measurement procedures, and analysis 
code are publicly available. Local experiments can be reproduced using 
the provided setup scripts and documented network configurations.
```

---

**✅ DELIVERABLES STATUS:**
- ✅ Project structure complete
- ✅ Configuration files ready  
- ✅ Sample data with 6 protocols
- ✅ Analysis scripts implemented
- ✅ Methods section drafted
- ✅ Documentation complete
- ✅ Validation tools ready
- 🔄 Plots pending (due to environment issues)

**🎯 READY FOR THESIS INTEGRATION**
